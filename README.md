# Effect-Oriented Programming

***Creating Reliable Systems with Scala 3 and ZIO 2***

## Developer Notes

* [Basic Installation Instructions](https://github.com/EffectOrientedProgramming/Examples#effect-oriented-programming-book-examples)

**NOTE:** For all the commands shown here, first start `sbt` ***In A Terminal Shell***.
Do not use IntelliJ IDEA's "sbt shell" window, which doesn't work correctly and will cause problems.
(It's OK to use the IntelliJ "Terminal" window).
Start `sbt` without any arguments to enter `sbt` console mode.
Once you start `sbt` you will see a prompt that looks like:

```text
sbt:EffectOrientedProgramming>
```

* Compile the Chapters:

  ```text
  sbt:EffectOrientedProgramming> mdoc
  ```

* View the generated manuscripts:
  1. Run `mdoc` in watch mode:

    ```text
    sbt:EffectOrientedProgramming> mdoc --watch
    ```

  1. Open: [http://localhost:4000](http://localhost:4000)

* The `src` directory is a playground and you can run a `main` this way:

  ```text
  sbt:EffectOrientedProgramming> runMain HelloZio.hello
  ```

* To run continuously, precede the command with `~`:

  ```text
  sbt:EffectOrientedProgramming> ~runMain HelloZio.hello
  ```

* To pick a main from all available options, use the `run` task:

  ```text
  sbt:EffectOrientedProgramming> run
  ```

---

* Each chapter has a single namespace.
  The package name is automatically created from the chapter name; e.g. `package monads` from `05_Monads.md`.
  If you need a further namespaces, make an `object`.

* To wipe out local changes: `git reset --hard HEAD`

* Make pull commands rebase instead of merge: `git config --global pull.rebase true`.
  Explanation and [suggested default configurations](https://spin.atomicobject.com/2020/05/05/git-configurations-default/).

## Miscellaneous Notes

* Separate the exercises from the book. The end of each atom simply references
  the website for exercises. This way the exercises can be changed without
  modifying the book.

* Try using Jen (from the bookstore) as a copyeditor, to improve and
  speed up the process.

* Use `functionName()` (with parentheses but without parameters) to indicate functions in prose.

* Possibly change to tables generated by a graphics program instead of Markdown tables.

* Github as the "source of truth" repository for the book. Authors have
  full commit privileges, and normally commit rather than doing pull requests.
  Contributors use pull requests.

* When you do a commit, add a timestamp indicating how
  much work you put in on that commit. This is not a perfect solution but it
  does provide more data. Format for Git summary:

  ```text
  <Brief description> #author1 #author2 ... #authorN #time Xh Ym
  ```

  Where `X` and `Y` are numbers indicating hours and minutes. `X` can be
  a floating-point number or an integer, while `Y` must be an integer. `Xh` is
  not a required argument.

* Improved style-checking system (spelling, grammar, formatting). Piggyback on
  VSCode and/or IntelliJ.

* Potential: automatic conversion of book into teaching materials (slides).

## Publishing

* eBook through Leanpub.

* Print book through Ingram.

* Print-ready pages from Leanpub.

* Will use the new Markua syntax for automatic generation of the index.

Note that the last two points mean that going from eBook to print book becomes
virtually instantaneous, and does not collect baggage in the process (extra
things that require maintenance, like an index and custom page layout).

# The Experience

> To create the foundation for a good working relationship, we need to discover
> each other's vision and needs, and then see whether there's a strategy that
> can meet those, for everyone.

## My Needs

> I have a needs for enjoyment and ease.
> This book needs to be a pleasant and fun experience.
> If it isn't, I'd rather be doing something else.

I don't have a strong investment or impetus to finish this book if the project
doesn't work out, so I think it would be easy to walk away from it if it fails.
For that reason, I don't want to put up an early-access edition before it's
clear that the book is far enough along; if we sold that and then the project
didn't work out, I'd feel obligated to finish it.

## Your Vision

*Questions like these*: What do you imagine and hope will happen by doing this
project? Do you want to be more represented in the Scala community, or help
with your position at your company? Are you hoping to make a contribution to
the community? Do you want to use the book as a foundation for teaching? What
doors do you imagine opening when the book is out? What else do you imagine
about doing this book? How will this project make your life better?

## Your Needs

* (*Questions like these...*)

* What kinds of accommodations do you need to be satisfied and productive on this project?

* What kind of time do you want to give to it?

* How do you envision the financial structure of this project?

* When do you imagine it will be done?

---

*Nothing wrong with having a strategic objective. Also nothing wrong with
thinking about how to get there, and even planning the first few steps. But if
that plan can't change dynamically based on inspection and feedback as you
move forward, there's no agility.*&mdash;[Allen Holub](https://twitter.com/allenholub)
